(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-457feead"],{"098e":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-form",{attrs:{model:e.user,"label-width":"100px","readonly:":"",true:""},nativeOn:{submit:function(t){return t.preventDefault(),e.back(t)}}},[n("el-form-item",{attrs:{label:"ID"}},[n("el-input",{attrs:{readonly:""},model:{value:e.user.id,callback:function(t){e.$set(e.user,"id",t)},expression:"user.id"}})],1),n("el-form-item",{attrs:{label:"负责人"}},[n("el-input",{attrs:{readonly:""},model:{value:e.user.performer,callback:function(t){e.$set(e.user,"performer",t)},expression:"user.performer"}})],1),n("el-form-item",{attrs:{label:"任务说明"}},[n("el-input",{attrs:{readonly:""},model:{value:e.user.title,callback:function(t){e.$set(e.user,"title",t)},expression:"user.title"}})],1),n("el-form-item",{attrs:{label:"任务详情"}},[n("el-input",{attrs:{type:"textarea",readonly:""},model:{value:e.user.description,callback:function(t){e.$set(e.user,"description",t)},expression:"user.description"}})],1),n("el-form-item",{attrs:{label:"开始日期"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期",readonly:""},model:{value:e.user.begintime,callback:function(t){e.$set(e.user,"begintime",t)},expression:"user.begintime"}})],1),n("el-form-item",{attrs:{label:"截止日期"}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期",readonly:""},model:{value:e.user.endtime,callback:function(t){e.$set(e.user,"endtime",t)},expression:"user.endtime"}})],1),n("el-form-item",{attrs:{label:"是否完成"}},[n("el-select",{attrs:{prop:"state",disabled:!0},model:{value:e.user.state,callback:function(t){e.$set(e.user,"state",t)},expression:"user.state"}},[n("el-option",{attrs:{label:"已完成",value:"1"}}),n("el-option",{attrs:{label:"未完成",value:"0"}})],1)],1),n("el-form-item",{attrs:{label:"任务可见"}},[n("el-select",{attrs:{prop:"categoryid",disabled:!0},model:{value:e.user.categoryid,callback:function(t){e.$set(e.user,"categoryid",t)},expression:"user.categoryid"}},[n("el-option",{attrs:{label:"全部人可见",value:"0"}}),n("el-option",{attrs:{label:"仅老师可见",value:"1"}})],1)],1),n("el-form-item",{attrs:{label:"附件"}},[n("el-row",e._l(this.file_list,(function(t,a){return n("el-col",{key:a,staticClass:"file-list",attrs:{span:8}},[n("div",{staticClass:"avatar-uploader"},[n("img",{attrs:{width:"40",height:"40",src:r("d284")("./"+e.matchType(t.filename)+".png")}}),n("p",{staticStyle:{"margin-bottom":"6px","text-align":"left",width:"100px"}},[e._v(e._s(t.filename))])]),n("div",{staticClass:"mask"},[n("a",{attrs:{target:"_blank",title:"点击预览"},on:{click:function(r){return e.previewer(t.uuid)}}},[n("i",{staticClass:"el-icon-zoom-in"})]),n("a",{attrs:{title:"点击下载"},on:{click:function(r){return e.singeDownloadFile(t.uuid)}}},[n("i",{staticClass:"el-icon-download"})])])])})),1)],1),n("el-form-item",[n("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("返回列表")])],1)],1)},a=[],u=(r("28a5"),r("a481"),r("4ec3")),i=function(e){var t=document.createElement("iframe");t.style.display="none",t.style.height=0,t.src=e,document.body.appendChild(t),setTimeout((function(){t.remove()}),3e5)},s={data:function(){return{user:{},isShowPdf:!1,PdfViewer:"javascript:;",PdfDownload:"javascript:;",file_list:[]}},mounted:function(){this.getUser()},methods:{singeDownloadFile:function(e){var t=this;Object(u["a"])().then((function(e){t.$message.success("成功下载")}))},previewer:function(e){window.open("/api/u/fdb/task/content/"+e,"_blank")},reset:function(){this.$refs.create.resetFields()},getUser:function(){var e=this,t=this;Object(u["k"])(t.$route.params.id).then((function(r){t.user=r,console.log(r),t.user.categoryid=String(r["categoryid"]),t.user.state=String(r["state"]),t.user.nodeid=r["nodeid"],null!=t.user.nodeid&&"None"!=t.user.nodeid&&e.getFileName()}),(function(e){console.log(e)}))},getFileName:function(){var e=this;Object(u["f"])(this.user.nodeid).then((function(t){e.file_list=t,e.isShowPdf=!0}))},back:function(){this.$router.replace("/task/list")},matchType:function(e){var t="",r="";try{var n=e.split(".");t=n[n.length-1]}catch(f){t=""}if(!t)return r=!1,r;var a=["png","jpg","jpeg","gif"];if(r=a.some((function(e){return e===t})),r)return r="image",r;var u=["txt"];if(r=u.some((function(e){return e===t})),r)return r="txt",r;var i=["pdf"];if(r=i.some((function(e){return e===t})),r)return r="pdf",r;var s=["doc"];if(r=s.some((function(e){return e===t})),r)return r="doc",r;var c=["ppt"];if(r=c.some((function(e){return e===t})),r)return r="ppt",r;var o=["zip","rar"];if(r=o.some((function(e){return e===t})),r)return r="zip",r;var l=["mp4"];if(r=l.some((function(e){return e===t})),r)return r="mp4",r;var p=["xls","xlsx"];return r=p.some((function(e){return e===t})),r?(r="xls",r):void 0}}},c=s,o=(r("93c1"),r("2877"));r.d(t,"downloadFile",(function(){return i}));var l=Object(o["a"])(c,n,a,!1,null,null,null);t["default"]=l.exports},"4ec3":function(e,t,r){"use strict";r.d(t,"k",(function(){return u})),r.d(t,"e",(function(){return i})),r.d(t,"r",(function(){return s})),r.d(t,"p",(function(){return c})),r.d(t,"d",(function(){return o})),r.d(t,"j",(function(){return l})),r.d(t,"c",(function(){return p})),r.d(t,"i",(function(){return f})),r.d(t,"b",(function(){return d})),r.d(t,"h",(function(){return m})),r.d(t,"l",(function(){return v})),r.d(t,"q",(function(){return h})),r.d(t,"o",(function(){return g})),r.d(t,"n",(function(){return y})),r.d(t,"g",(function(){return b})),r.d(t,"a",(function(){return w})),r.d(t,"f",(function(){return x}));r("96cf");var n=r("1da1"),a=r("b775"),u=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/admin/task/tasks/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/admin/task/tasks/byauth/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].put("/api/admin/task/tasks/v/"+t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),c=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.id,e.next=3,a["a"].delete("/api/admin/task/tasks/e/"+r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/member");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/member/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/course");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/course/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/activity");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/activity/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/api/u/activity",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].post("/api/u/activity/state/"+t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),g=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].delete("/api/u/activity/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/fdb/task");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/fdb/task/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].delete("/api/u/fdb/task/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,a["a"].get("/api/u/fdb/task/getFilename/"+t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},"93c1":function(e,t,r){"use strict";var n=r("e398"),a=r.n(n);a.a},a481:function(e,t,r){"use strict";var n=r("cb7c"),a=r("4bf8"),u=r("9def"),i=r("4588"),s=r("0390"),c=r("5f1b"),o=Math.max,l=Math.min,p=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,m=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,(function(e,t,r,v){return[function(n,a){var u=e(this),i=void 0==n?void 0:n[t];return void 0!==i?i.call(n,u,a):r.call(String(u),n,a)},function(e,t){var a=v(r,e,this,t);if(a.done)return a.value;var p=n(e),f=String(this),d="function"===typeof t;d||(t=String(t));var g=p.global;if(g){var b=p.unicode;p.lastIndex=0}var w=[];while(1){var y=c(p,f);if(null===y)break;if(w.push(y),!g)break;var x=String(y[0]);""===x&&(p.lastIndex=s(f,u(p.lastIndex),b))}for(var k="",R=0,j=0;j<w.length;j++){y=w[j];for(var O=String(y[0]),$=o(l(i(y.index),f.length),0),S=[],M=1;M<y.length;M++)S.push(m(y[M]));var _=y.groups;if(d){var F=[O].concat(S,$,f);void 0!==_&&F.push(_);var C=String(t.apply(void 0,F))}else C=h(O,f,$,S,_,t);$>=R&&(k+=f.slice(R,$)+C,R=$+O.length)}return k+f.slice(R)}];function h(e,t,n,u,i,s){var c=n+e.length,o=u.length,l=d;return void 0!==i&&(i=a(i),l=f),r.call(s,l,(function(r,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,n);case"'":return t.slice(c);case"<":s=i[a.slice(1,-1)];break;default:var l=+a;if(0===l)return r;if(l>o){var f=p(l/10);return 0===f?r:f<=o?void 0===u[f-1]?a.charAt(1):u[f-1]+a.charAt(1):r}s=u[l-1]}return void 0===s?"":s}))}}))},e398:function(e,t,r){}}]);