(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-085931f8"],{"28c9":function(e,t,r){},a481:function(e,t,r){"use strict";var i=r("cb7c"),n=r("4bf8"),a=r("9def"),s=r("4588"),l=r("0390"),o=r("5f1b"),u=Math.max,c=Math.min,d=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,p=/\$([$&`']|\d\d?)/g,v=function(e){return void 0===e?e:String(e)};r("214f")("replace",2,(function(e,t,r,m){return[function(i,n){var a=e(this),s=void 0==i?void 0:i[t];return void 0!==s?s.call(i,a,n):r.call(String(a),i,n)},function(e,t){var n=m(r,e,this,t);if(n.done)return n.value;var d=i(e),f=String(this),p="function"===typeof t;p||(t=String(t));var b=d.global;if(b){var g=d.unicode;d.lastIndex=0}var y=[];while(1){var w=o(d,f);if(null===w)break;if(y.push(w),!b)break;var k=String(w[0]);""===k&&(d.lastIndex=l(f,a(d.lastIndex),g))}for(var _="",x=0,$=0;$<y.length;$++){w=y[$];for(var P=String(w[0]),S=u(c(s(w.index),f.length),0),M=[],F=1;F<w.length;F++)M.push(v(w[F]));var D=w.groups;if(p){var V=[P].concat(M,S,f);void 0!==D&&V.push(D);var j=String(t.apply(void 0,V))}else j=h(P,f,S,M,D,t);S>=x&&(_+=f.slice(x,S)+j,x=S+P.length)}return _+f.slice(x)}];function h(e,t,i,a,s,l){var o=i+e.length,u=a.length,c=p;return void 0!==s&&(s=n(s),c=f),r.call(l,c,(function(r,n){var l;switch(n.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,i);case"'":return t.slice(o);case"<":l=s[n.slice(1,-1)];break;default:var c=+n;if(0===c)return r;if(c>u){var f=d(c/10);return 0===f?r:f<=u?void 0===a[f-1]?n.charAt(1):a[f-1]+n.charAt(1):r}l=a[c-1]}return void 0===l?"":l}))}}))},d356:function(e,t,r){"use strict";r.r(t);var i=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-form",{attrs:{model:e.user,"label-width":"100px","readonly:":"",true:""},nativeOn:{submit:function(t){return t.preventDefault(),e.back(t)}}},[i("el-form-item",{attrs:{label:"ID"}},[i("el-input",{attrs:{readonly:""},model:{value:e.user.id,callback:function(t){e.$set(e.user,"id",t)},expression:"user.id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"负责人"}},[i("el-input",{attrs:{readonly:""},model:{value:e.user.performer,callback:function(t){e.$set(e.user,"performer",t)},expression:"user.performer"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"任务说明"}},[i("el-input",{attrs:{readonly:""},model:{value:e.user.title,callback:function(t){e.$set(e.user,"title",t)},expression:"user.title"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"任务详情"}},[i("el-input",{attrs:{type:"textarea",readonly:""},model:{value:e.user.description,callback:function(t){e.$set(e.user,"description",t)},expression:"user.description"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"开始日期"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期",readonly:""},model:{value:e.user.begintime,callback:function(t){e.$set(e.user,"begintime",t)},expression:"user.begintime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"截止日期"}},[i("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd",placeholder:"选择日期",readonly:""},model:{value:e.user.endtime,callback:function(t){e.$set(e.user,"endtime",t)},expression:"user.endtime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"是否完成"}},[i("el-select",{attrs:{prop:"state",disabled:!0},model:{value:e.user.state,callback:function(t){e.$set(e.user,"state",t)},expression:"user.state"}},[i("el-option",{attrs:{label:"已完成",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"未完成",value:"0"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"附件"}},[i("el-row",e._l(this.file_list,(function(t){return i("el-col",{attrs:{span:8}},[i("div",{staticClass:"avatar-uploader"},[i("img",{attrs:{width:"40",height:"40",src:r("d284")("./"+e.matchType(t.filename)+".png")}}),e._v(" "),i("p",[e._v(e._s(t.filename))])]),e._v(" "),i("div",{staticClass:"mask"},[i("a",{attrs:{target:"_blank",title:"点击预览"},on:{click:function(r){return e.previewer(t.uuid)}}},[i("i",{staticClass:"el-icon-zoom-in"})]),e._v(" "),i("a",{attrs:{title:"点击下载"},on:{click:function(r){return e.singeDownloadFile(t.uuid)}}},[i("i",{staticClass:"el-icon-download"})])])])})),1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary","native-type":"submit"}},[e._v("返回列表")]),e._v(" "),i("router-link",{attrs:{to:"/task/"+this.$route.params.id+"/attachments"}},[i("el-button",{attrs:{type:"success"}},[e._v("查看所有附件")])],1)],1)],1)},n=[],a=(r("28a5"),r("a481"),r("5f87")),s=function(e){var t=document.createElement("iframe");t.style.display="none",t.style.height=0,t.src=e,document.body.appendChild(t),setTimeout((function(){t.remove()}),3e5)},l={data:function(){return{user:{},isShowPdf:!1,PdfViewer:"javascript:;",PdfDownload:"javascript:;",file_list:[]}},mounted:function(){this.getUser()},methods:{singeDownloadFile:function(e){s("http://202.120.167.50:8088/api/u/fdb/task/"+e)},previewer:function(e){window.open("http://202.120.167.50:8088/api/u/fdb/task/content/"+e,"_blank")},reset:function(){this.$refs.create.resetFields()},getUser:function(){var e=this,t=this;a["a"]._gets(t.$route.params.id).then((function(r){t.user=r,t.user.state=String(r["state"]),t.user.nodeid=r["nodeid"],null!=t.user.nodeid&&"None"!=t.user.nodeid&&(e.getFileName(),e.getFileLink("fileone"))}),(function(e){console.log(e)}))},getFileLink:function(e){switch(this.fileDownloadPath="/api/u/fdb/task/"+this.user.nodeid,this.fileViewPath="/api/u/fdb/task/"+this.user.nodeid+"/content",e){case"fileone":this.PdfViewer=this.fileViewPath,this.PdfDownload=this.fileDownloadPath;break;case"filetwo":this.PdfViewerTwo=this.fileViewPath;break}},getFileName:function(){var e=this;a["a"]._getFileName(this.user.nodeid).then((function(t){e.file_list=t,e.isShowPdf=!0}))},back:function(){this.$router.replace("/task/list")},matchType:function(e){var t="",r="";try{var i=e.split(".");t=i[i.length-1]}catch(f){t=""}if(!t)return r=!1,r;var n=["png","jpg","jpeg","gif"];if(r=n.some((function(e){return e===t})),r)return r="image",r;var a=["txt"];if(r=a.some((function(e){return e===t})),r)return r="txt",r;var s=["pdf"];if(r=s.some((function(e){return e===t})),r)return r="pdf",r;var l=["doc"];if(r=l.some((function(e){return e===t})),r)return r="doc",r;var o=["ppt"];if(r=o.some((function(e){return e===t})),r)return r="ppt",r;var u=["zip","rar"];if(r=u.some((function(e){return e===t})),r)return r="zip",r;var c=["mp4"];if(r=c.some((function(e){return e===t})),r)return r="mp4",r;var d=["xls","xlsx"];return r=d.some((function(e){return e===t})),r?(r="xls",r):void 0}}},o=l,u=(r("d56c"),r("2877"));r.d(t,"downloadFile",(function(){return s}));var c=Object(u["a"])(o,i,n,!1,null,null,null);t["default"]=c.exports},d56c:function(e,t,r){"use strict";var i=r("28c9"),n=r.n(i);n.a}}]);